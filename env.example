# =============================================================================
# BUDGET SERVICE CONFIGURATION
# =============================================================================

# Application Environment
APP_ENV=dev

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Для локальной разработки (вне Docker)
DATABASE_URL=postgres://budget:budget@localhost:5432/budget?sslmode=disable
# Для Docker Compose
# DATABASE_URL=postgres://budget:budget@db:5432/budget?sslmode=disable

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Для локальной разработки (вне Docker)
REDIS_URL=redis://localhost:6379
# Для Docker Compose
# REDIS_URL=redis://redis:6379

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_SIGN_KEY=dev-secret-change-in-production
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=720h

# =============================================================================
# GRPC CONFIGURATION
# =============================================================================
GRPC_ADDR=0.0.0.0:8080
METRICS_ADDR=0.0.0.0:9090

# =============================================================================
# OAUTH CONFIGURATION
# =============================================================================
OAUTH_AUTH_TOKEN_TTL=5m
OAUTH_SESSION_TTL=24h
OAUTH_VERIFICATION_CODE_TTL=10m
OAUTH_MAX_ATTEMPTS_PER_HOUR=10
OAUTH_MAX_ATTEMPTS_PER_10MIN=3
OAUTH_WEB_BASE_URL=http://localhost:3030

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
NEXT_PUBLIC_GRPC_BASE_URL=http://localhost:3030/grpc
NEXT_PUBLIC_APP_URL=http://localhost:3030
ENVOY_URL=http://localhost:8081

# =============================================================================
# OBSERVABILITY (Optional)
# =============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_EXPORTER_OTLP_INSECURE=true

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify for production:
# APP_ENV=production
# OAUTH_WEB_BASE_URL=https://your-domain.com
# NEXT_PUBLIC_GRPC_BASE_URL=https://your-domain.com/grpc
# NEXT_PUBLIC_APP_URL=https://your-domain.com
# JWT_SIGN_KEY=your-super-secret-production-key

# =============================================================================
# DOCKER PORTS CONFIGURATION
# =============================================================================
# Development: порты открыты для локальной разработки
# Production: установите пустые значения для закрытия портов

# gRPC Backend port (8080 = открыт, пусто = закрыт)
GRPC_PORT=8080

# Frontend port (3030 = открыт, пусто = закрыт)
WEB_PORT=3030

# Envoy port (8081 = открыт, пусто = закрыт)
ENVOY_PORT=8081

# Prometheus port (9090 = открыт, пусто = закрыт)
PROMETHEUS_PORT=9090

# Grafana port (3002 = открыт, пусто = закрыт)
GRAFANA_PORT=3002

# OpenTelemetry port (4318 = открыт, пусто = закрыт)
OTEL_PORT=4318